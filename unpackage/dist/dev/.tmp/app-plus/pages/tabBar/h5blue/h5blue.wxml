<view><button type="primary" size="mini" data-event-opts="{{[['tap',[['turnOnBluetooth',['$event']]]]]}}" bindtap="__e">打开蓝牙</button><button type="primary" size="mini" data-event-opts="{{[['tap',[['turnOffBluetooth',['$event']]]]]}}" bindtap="__e">关闭蓝牙</button><button type="primary" size="mini" data-event-opts="{{[['tap',[['getPairedDevices',['$event']]]]]}}" bindtap="__e">已配对的设备</button><button type="primary" size="mini" data-event-opts="{{[['tap',[['discoveryNewDevice',['$event']]]]]}}" bindtap="__e">搜索蓝牙设备</button><view class="_div">蓝牙状态：<view class="_pre">{{bluetoothState}}</view></view><view class="_div">{{'消息：'+msg+''}}</view><view class="_div"><input type="button" value="断开连接" data-event-opts="{{[['tap',[['disConnDevice',['$event']]]]]}}" bindtap="__e"/></view>已配对的设备：<view class="_br"></view><view class="_ul"><block wx:for="{{pairedDevices}}" wx:for-item="device" wx:for-index="__i0__"><view class="_li">{{'名称：'+device.name}}<view class="_br"></view>{{'地址：'+device.address+''}}<view class="_br"></view><button type="primary" size="mini" data-event-opts="{{[['tap',[['connDevice',['$0'],[[['pairedDevices','',__i0__,'address']]]]]]]}}" bindtap="__e">连接</button></view></block></view>发现的设备：<view class="_br"></view><view class="_ul"><block wx:for="{{newDevices}}" wx:for-item="device" wx:for-index="__i1__"><view class="_li">{{'名称：'+device.name}}<view class="_br"></view>{{'地址：'+device.address}}<view class="_br"></view><button type="primary" size="mini" data-event-opts="{{[['tap',[['connDevice',['$0'],[[['newDevices','',__i1__,'address']]]]]]]}}" bindtap="__e">连接</button></view></block></view><view class="_div">发送数据：<textarea cols="20" rows="4" data-event-opts="{{[['input',[['__set_model',['','sendData','$event',[]]]]]]}}" value="{{sendData}}" bindinput="__e"></textarea><button type="primary" size="mini" data-event-opts="{{[['tap',[['onSendData',['$event']]]]]}}" bindtap="__e">发送</button></view><view class="_br"></view><view style="margin-bottom:100px;" class="_div">接收的数据：<input type="button" value="清空" data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" bindtap="__e"/><view style="width:100%;min-height:50px;" class="_div">byte数组:<block wx:for="{{receiveDataArr}}" wx:for-item="data" wx:for-index="__i2__"><label class="_span">{{''+data+''}}</label></block></view><view style="width:100%;min-height:50px;word-wrap:break-word;" class="_div">对应的string字符串:<view class="_br"></view>{{''+receiveDataStr+''}}</view></view></view>